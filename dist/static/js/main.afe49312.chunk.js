(this["webpackJsonpchrome-extension-memo"]=this["webpackJsonpchrome-extension-memo"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n.n(r),o=n(11),a=n.n(o),i=(n(17),n(2)),u=n.n(i),l=n(4),b=n(7),f=n(3),d=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,c=e.getDate(),r=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),a=new String(t)+"/"+("00"+new String(n)).slice(-2)+"/"+("00"+new String(c)).slice(-2);return a+=" "+("00"+new String(r)).slice(-2)+":"+("00"+new String(s)).slice(-2)+":"+("00"+new String(o)).slice(-2)},j=n(5),m=n(9),h=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,[{key:"SetMemos",value:function(e){}}]),e}(),p=function(){function e(t){Object(j.a)(this,e),this.memoRepo=void 0,this.memoRepo=t}return Object(m.a)(e,[{key:"SetMemos",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in set",t),e.abrupt("return",new Promise((function(e){chrome.storage.sync.set({memos:t},(function(){e("success")}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new h,c=new p(n),console.log("aaa",t),e.next=5,c.SetMemos(t);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t,n){if(n>=e.length)for(var c=n-e.length+1;c--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e},O=function(e){var t=Object(r.useState)(e.text),n=Object(f.a)(t,2),s=n[0],o=n[1],a=Object(r.useState)(e.date),i=Object(f.a)(a,2),j=(i[0],i[1]),m=Object(r.useState)(),h=Object(f.a)(m,2),p=h[0],O=h[1];return Object(c.jsx)("textarea",{className:"bg-black text-white p-4 h-full w-full",onChange:function(t){return function(t){p&&clearTimeout(p);var n=t.target.value,c=d();o(n),j(c),console.log("before setTimeout");var r=setTimeout(Object(l.a)(u.a.mark((function t(){var r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=Object(b.a)(e.memos))[e.memoIndex].text=n,r[e.memoIndex].date=c,s=g(r,e.memoIndex,0),console.log("settimeout",s),t.next=7,x(s);case 7:"success"===t.sent&&e.openSnackbar(),e.updateMemos(s);case 10:case"end":return t.stop()}}),t)}))),1e3);O(r)}(t)},value:s})},v=n(21),w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(v.a)();Object(j.a)(this,e),this.text=void 0,this.id=void 0,this.date=void 0,this.text=t,this.id=c,this.date=n},y=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(!1),a=Object(f.a)(o,2),i=a[0],j=a[1],m=Object(r.useState)(new w),h=Object(f.a)(m,2),p=h[0],g=h[1],v=Object(r.useState)(0),y=Object(f.a)(v,2),S=y[0],k=y[1],N=Object(r.useState)(!1),C=Object(f.a)(N,2),M=C[0],T=C[1];Object(r.useEffect)((function(){chrome.storage.sync.get(["memos"],(function(e){var t=e.memos;console.log(t),s(null!==t&&void 0!==t?t:[])}))}),[]);var F=function(){j(!1),setTimeout((function(){}),1e3)},I=function(){var e=Object(l.a)(u.a.mark((function e(t,c){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object(b.a)(n)).splice(t,1),c.stopPropagation(),e.next=5,x(r);case 5:s(r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"bg-black",style:{width:350,minHeight:600,height:600},children:[Object(c.jsxs)("div",{className:i?"text-yellow-400 px-2 pt-2 font-bold fixed bg-black w-full flex justify-between":"text-white px-2 pt-2 pb-6 font-bold text-2xl fixed bg-black w-full flex justify-between",style:{transition:"font-size 300ms, color 300ms"},children:[i?Object(c.jsx)("button",{onClick:function(){return F()},children:"\uff1c\u30e1\u30e2"}):Object(c.jsx)("p",{children:"\u30e1\u30e2"}),Object(c.jsx)("button",{onClick:function(){return function(){if(i)F();else{var e=d(),t=new w("",e);g(t);var c=[].concat(Object(b.a)(n),[t]);x(c),s(c),k(n.length),j(!0)}}()},children:i?"\u5b8c\u4e86":"\ud83d\udcdd"})]}),Object(c.jsx)("div",{className:M?"top-2 left-1/2 fixed text-gray-400":"top-0 left-1/2 fixed text-transparent",style:{transition:"color 400ms, top 400ms"},children:M?"saved!!":""}),Object(c.jsx)("div",{className:i?"w-full pt-10 pb-20 px-2 bg-black h-full":"w-full py-20 px-2 bg-black h-full",children:i?Object(c.jsx)(O,{memos:n,text:p.text,date:p.date,id:p.id,memoIndex:S,updateMemos:s,openSnackbar:function(){T(!1),T(!0),setTimeout((function(){T(!1)}),1e3)}}):Object(c.jsx)("div",{className:"w-full px-7 rounded",style:{background:"#202020"},children:n&&n.length>0?n.map((function(e,t){return Object(c.jsxs)("div",{className:"py-1 border-b-2 border-gray-800 cursor-pointer",onClick:function(){return function(e,t){g(e),k(t),j(!0)}(e,t)},children:[Object(c.jsx)("p",{className:"text-white font-bold",style:{overflow:"hidden",height:"1.8em",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.text}),Object(c.jsxs)("div",{className:"flex justify-between",children:[Object(c.jsx)("p",{className:"text-gray-400",children:e.date}),Object(c.jsx)("button",{className:"hover:bg-gray-600 rounded px-1",onClick:function(e){return I(t,e)},children:"\ud83d\uddd1\ufe0f"})]})]})})):Object(c.jsx)("p",{className:"text-white py-2",children:"please give me memo"})})})]})})};var S=function(){return Object(c.jsx)(y,{})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),s(e),o(e)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(S,{})}),document.getElementById("root")),k()}},[[19,1,2]]]);
//# sourceMappingURL=main.afe49312.chunk.js.map